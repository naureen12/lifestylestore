(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6498],{76498:function(e,t,r){"use strict";r.r(t);var o=r(85893),a=r(59999),n=r(74047),s=r(52700),c=r(4706),i=r(8127),l=r(44102),u=r(20775),d=r(26265),p=r(67294),g=r(5152),f=r(28216),v=r(27361),y=r.n(v),h=r(22730),P=r(10043),R=r(71835),m=r(70340),b=r(22093),S=r(21747),w=r(32817),E=r(62147),Z=r(73764),j=r(22841),T=r(76059),D=r(5867),A=r(89401),O=r(53131),C=r(84584),x=r(3351),k=r(23493),q=r.n(k),I=r(11838),U=r(38420);function G(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function F(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?G(Object(r),!0).forEach((function(t){(0,d.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function L(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=(0,u.Z)(e);if(t){var a=(0,u.Z)(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return(0,l.Z)(this,r)}}var N=(0,g.default)((function(){return Promise.all([r.e(9351),r.e(1926),r.e(1676)]).then(r.bind(r,21676))}),{loadableGenerated:{webpack:function(){return[21676]},modules:["../containers/maxPages/category.js -> ./../../components/listing/category"]}}),V=function(e){(0,i.Z)(r,e);var t=L(r);function r(){var e;return(0,n.Z)(this,r),e=t.call(this),(0,d.Z)((0,c.Z)(e),"iteminViewEvent",(function(t,r){(0,c.Z)(e).state;var o=(0,U.ej)("_lmgua")?"signed in":"not signed in",a={eventAction:r<=20?"0-".concat(r):"".concat(r-20,"-").concat(r),siginStatus:o};C.ZP.newGaEventTracker(a,"scrollTracking")})),(0,d.Z)((0,c.Z)(e),"gaScrollDeptEvent",(function(t){var r=(0,c.Z)(e).state;r.productArrayforGA.length>0&&r.productArrayforGA.map((function(t){var o=document.getElementById("product-".concat(t)),n=(0,I.vL)(o);n&&(r.eventSentfor.includes(t)||(e.setState({eventSentfor:[].concat((0,a.Z)(r.eventSentfor),[t])}),e.scrollDepthEvent(n,t)))}))})),(0,d.Z)((0,c.Z)(e),"handleScrollPosition",(function(){var e=sessionStorage.getItem("scrollPosition");e&&setTimeout((function(){window.scrollTo(0,parseInt(e)),sessionStorage.removeItem("scrollPosition")}),0)})),e.state={totalProductCount:!1,productArrayforGA:[],eventSentfor:[]},e.scrollDepthEvent=q()(e.iteminViewEvent,500),e.throttleScrollEventforGA=q()(e.gaScrollDeptEvent,500),e}return(0,s.Z)(r,[{key:"componentDidUpdate",value:function(e,t){var r=this.props;this.state;if(y()(e,"algoliaProdResponse.data.nbHits")!==y()(r,"algoliaProdResponse.data.nbHits")){var o=y()(r,"algoliaProdResponse.data.nbHits",0);this.setState({totalProductCount:o,productArrayforGA:(0,I.A4)(o,20),eventSentfor:[]})}}},{key:"componentDidMount",value:function(){var e=this.props,t=this.handleScrollPosition,r=y()(e,"routerReducer.router.query"),o=y()(e,"routerReducer.router.asPath"),a=y()(e,"routerReducer.router.isServer"),n=y()(e,"algoliaProdResponse.data.nbHits",0);if(this.setState({totalProductCount:n,productArrayforGA:(0,I.A4)(n,20),eventSentfor:[]}),window.addEventListener("scroll",this.throttleScrollEventforGA),t(),history.scrollRestoration="manual",!a){var s=y()(e,"algoliaProdResponse.data.cid",""),c=y()(e,"filterReducer.asPath","");y()(e,"algoliaProdResponse.data.hits")?(y()(e,"algoliaProdResponse.data.hits")&&r.cid!==s||c!==o)&&(document.documentElement.scrollTop=0,(0,I.oM)(e,"categoryPage")):(document.documentElement.scrollTop=0,(0,I.oM)(e,"categoryPage"))}e.dispatch((0,m.m)(F({asPath:o},r))),void 0!==y()(e,"algoliaProdResponse.data.abTestID")&&void 0!==y()(e,"algoliaProdResponse.data.abTestVariantID")&&C.ZP.sendEvent({category:"Algolia Testing",action:y()(e,"algoliaProdResponse.data.abTestID"),label:2===y()(e,"algoliaProdResponse.data.abTestVariantID")?"Variant":"Control"}),C.ZP.pageTypeEvent({pageType:"Category"})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.throttleScrollEventforGA),window.removeEventListener("popstate",I.WU)}},{key:"shouldComponentUpdate",value:function(e){var t=this.props,r=e.prefixUrl,o=e.country,a=e.lang,n=e.concept,s=e.device,c=e.dispatch,i=y()(t,"routerReducer.router.query"),l=y()(e,"routerReducer.router.query"),u=y()(t,"userResponse.data.customerPK"),d=y()(t,"filterReducer.q.facets.index.0","relevance"),p=y()(e,"userResponse.data.saga"),g=y()(e,"userResponse.data.customerPK"),f=y()(e,"userResponse.data.isEmployee",!1),v=Number(i.p)||0,h=Number(l.p)||0,P=y()(i,"q","").split(":"),R=y()(l,"q","").split(":"),j=!!y()(i,"range"),T=!!y()(l,"range"),D=!!y()(i,"discount"),A=!!y()(l,"discount");if("category"!==y()(e,"algoliaProdResponse.data.pageType"))return!1;if(y()(t,"algoliaProdResponse.data.page")>0&&"relevance"==d&&(R.length>=3||T||A)&&!P.length>=2&&(i.cid!==l.cid||j!==T||D!==A)&&window.removeEventListener("popstate",I.WU),y()(t,"algoliaProdResponse.data.page")>0&&"relevance"==d&&R.length<=1&&0==T&&0==A&&P.length<=2&&(i.cid==l.cid||j==T||D==A)&&window.addEventListener("popstate",(0,I.WU)(v,h,"categoryPage",c)),l.cid){if(h<v&&window.scrollTo(0,0),i.cid!==l.cid){var O=y()(e,"routerReducer.router.asPath");e.dispatch((0,m.m)(F({asPath:O},l))),e.dispatch((0,E.pL)({pageType:"category"})),e.dispatch((0,Z.u9)({pageType:"category"})),e.dispatch((0,E.TF)({pageType:"category",prefixUrl:r,isEmployee:f,country:o,lang:a,concept:n,device:s,query:l})),e.dispatch((0,S.gC)()),e.dispatch((0,b.no)()),e.dispatch((0,w.Or)()),e.dispatch((0,w.g2)({country:o,lang:a,concept:n,device:s,pageId:"categorypage",query:l,code:y()(l,"cid","")}))}else if("userSaga"!==p&&"discount"===d&&u!==g||i.q!==l.q||R.length<=1&&v<h||!(R.length<=1)&&v<h||R.length>=2&&v>h||i.discount!==l.discount||i.price!==l.price){var C=y()(e,"routerReducer.router.asPath");e.dispatch((0,m.m)(F({asPath:C},l))),e.dispatch((0,Z.rw)({pageType:"category",prefixUrl:r,isEmployee:f,country:o,lang:a,concept:n,device:s,query:l,facetsArr:y()(e,"algoliaFacetsArr",[])}))}"in"===o||!y()(e,"routerReducer.router.isServer")&&y()(t,"algoliaProdResponse.count")===y()(e,"algoliaProdResponse.count")||x.Z.addProducts("CategoryPage",y()(e,"algoliaObjectIDs",[]))}return!0}},{key:"render",value:function(){var e=this.props;return y()(e,"algoliaProdResponse.error")?(0,o.jsx)(R.Z,F(F({},e),{},{classes:void 0})):y()(e,"algoliaProdResponse.fetching")?(0,o.jsx)(O.Z,{country:e.country,lang:e.lang,device:y()(e,"device.type")}):(0,o.jsxs)("div",{children:[(0,o.jsx)(h.Z,{configResponse:y()(e,"configResponse",{}),pageJsName:"CategoryPage",asPath:y()(e,"routerReducer.router.asPath"),categoryName:y()(e,"routerReducer.router.query.cid"),prefixUrl:e.prefixUrl,concept:e.concept,country:e.country,lang:e.lang,location:e.location,pageTitle:y()(e,"algoliaCatResponse.data.pageTitle"),userDetails:y()(e,"userReducer"),classes:void 0}),y()(e,"configResponse.data.service.ampliance.emptyMsg")&&(0,o.jsx)(P.Z,F(F({},e),{},{classes:void 0,pageId:"categorymessage"})),(0,o.jsx)(N,F(F({},e),{},{classes:void 0,pageJsName:"CategoryPage"}))]})}}]),r}(p.Component);t.default=(0,f.$j)((function(e){return{algoliaCatResponse:(0,T.n)(e),algoliaObjectIDs:(0,D.eg)(e),algoliaFacetsArr:(0,T.r)(e),algoliaProdResponse:(0,D.Vh)(e),algoliaFacetsSubcategories:(0,D.SS)(e),algoliaDisjunctiveFacets:(0,D.Z0)(e),algoliaPercentageDiscountFacets:(0,D.Rp)(e),algoliaPriceRangeFacets:(0,D.Ux)(e),userResponse:(0,j.y)(e),filterReducer:e.filterReducer,scrollTo:(0,A.rr)(e)}}))(V)},76059:function(e,t,r){"use strict";r.d(t,{n:function(){return l},r:function(){return u}});var o=r(20573),a=r(27361),n=r.n(a),s=r(1469),c=r.n(s),i=function(e){return e.algoliaCategoryReducer},l=(0,o.P1)([i],(function(e){return e})),u=(0,o.P1)([i],(function(e){var t=n()(e,"data.facets"),r=[];return t&&c()(t)&&(r=t.map((function(e){return e.name}))),r}))}}]);